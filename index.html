<!DOCTYPE html>
<html ng-app="twitterCrisis">

<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="assets/ico/favicon.png">

    <title>{{currentCrisis}}</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <!--     <link href="css/jquery.dropdown.css" rel="stylesheet"> this breaks dropdown for search refinement menu-->

    <link href="css/popover.css" rel="stylesheet">
    <link href="css/colorpicker.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/layout.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">

    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/angular-route.js"></script>
    <script type="text/javascript" src="js/ui-bootstrap-tpls-0.10.0.js"></script>
    <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/angular-local-storage.js"></script>
    <script type="text/javascript" src="js/moment.js"></script>
    <script type="text/javascript" src="js/angular-moment.js"></script>

    <script type="text/javascript" src="js/config.js"></script>
    <script type="text/javascript" src="js/tweets.js"></script>
    <script type="text/javascript" src="js/userInfo.js"></script>
    <script type="text/javascript" src="js/tags.js"></script>
    <script type="text/javascript" src="js/directives.js"></script>
    <script type="text/javascript" src="js/colorpicker.js"></script>
</head>

<body ng-controller="Ctrl">
<div class="left-menu">
    <div class="fix-banner">
        <h4>{{currentCrisis}}</h4>

        <div id="user-info">
            <p>Welcome {{getUsername()}}!<a ng-click="logout()" class="pull-right logout">Logout</a></p>
        </div>

        <div class="add-column-area">
            <form class="add-column">
                <button class="btn btn-primary add-column btn-block btn-huge" ng-click="newColumnSearch()">Add Column
                </button>
            </form>
        </div>
    </div>

    <div class="pre-scrollable" resize-left-column>


        <!--Tags-->
        <div class="tag-list">
            <a href="#" ng-click="collapseTag()"><p class="left-menu-title">Tags</p></a>

            <div ng-hide="tagsIsCollapse">
                <!--Form for add tags-->
                <form ng-submit="TAGS.saveTag(TAGS.tag.newTagName); TAGS.tag.newTagName = '' " role='form'>
                    <div class='form-group'>
                        <i class="fa fa-circle" style="color: {{TAGS.tag.color}};" colorpicker class="span2" type="text"
                           ng-model="TAGS.tag.color"></i>

                        <label class='sr-only' for='new-tag-name'>Tag Name</label>
                        <input type='text' ng-model="TAGS.tag.newTagName" class='form-control' id='new-tag-name'
                               placeholder='Enter tag name'>
                        <button type='submit' class='btn btn-default'>Add</button>
                    </div>
                </form>

                <!--<div ng-app="editer">-->
                <ul class="nav nav-pills nav-stacked dropdown-relative" id="id-tag-list">
                    <li ng-init="addEditingAttr()" ng-repeat="tag in displayedTags" tag-id="{{tag._id.$oid}}">
                        <a href="#" ng-dblclick="startEditing(tag);" ng-hide="tag.editing">
                            <i class="fa fa-circle" style="color:{{tag.color}};"></i>
                            {{tag.tag_name}}
                            <span class="badge right">{{ tag.num_instances }}</span>
                        </a>

                        <form ng-submit="doneEditing('tag',tag)" ng-show="tag.editing">
                            <input ng-model="tag.tag_name" ng-blur="doneEditing('tag', tag)"
                                   ng-focus="tag.editing"
                                   id="editTagInputBox" type="text"
                                   class="form-control">
                            <!--ng-data="{{editTagPopoverSetup(tag.tag_name)}}"-->
                        </form>
                        <!--<div class="right">-->
                        <a class="modify-tag right-23" href="#" ng-click="newSearchByTagColumn(tag, 'tags')"
                                >Search</a>
                        <a class="modify-tag" href="#" ng-click="TAGS.deleteTag(tag)"><i
                                class="fa fa-times"></i></a>
                        <!--</div>-->
                    </li>
                </ul>
            </div>
            <!--</div>-->
        </div>


        <!--User list-->

        <div class="user-list">
            <p class="left-menu-title">User Lists</p>


            <!--Form to add user lists-->
            <form ng-submit="USER_TAGS.saveTag(USER_TAGS.tag.newTagName); USER_TAGS.tag.newTagName = ''" role='form'>
                <div class='form-group'>
                    <i class="fa fa-stop" style="color: {{USER_TAGS.tag.color}};" colorpicker class="span2" type="text"
                       ng-model="USER_TAGS.tag.color"></i>

                    <label class='sr-only' for='new-userlist-name'>User List Name</label>
                    <input type='text' ng-model="USER_TAGS.tag.newTagName" class='form-control' id='new-userlist-name'
                           placeholder='Enter list name'>
                    <button type='submit' class='btn btn-default'>Add</button>
                </div>
            </form>

            <ul class="nav nav-pills nav-stacked dropdown-relative" id="id-user-list">
                <li ng-repeat="tag in displayedUserTags" tag-id="{{tag._id.$oid}}">

                    <a href="#">
                        <i class="fa fa-stop" style="color:{{tag.color}};"></i>
                        {{tag.tag_name}}
                        <span class="badge right">{{ tag.num_instances }}</span>
                    </a>

                    <a class="modify-tag right-80" href="#" ng-click="openUserListModal(tag.tag_name)">See List</a>
                    <a class="modify-tag right-23" href="#" ng-click="newSearchByTagColumn(tag, 'user_tags')">Search</a>
                    <a class="modify-tag" href="#" ng-click="USER_TAGS.deleteTag(tag)"><i class="fa fa-times"></i></a>
                </li>
            </ul>
        </div>


        <div class="collab">
            <p class="left-menu-title">Collaborators (2)</p>
            <ul class="nav nav-pills nav-stacked" id="collab-list">
                <li><a>[name1] - [status]</a></li>
                <li><a>[name2] - [status]</a></li>
            </ul>
        </div>
    </div>
    <!--end of scrollable div-->
</div>
<!--end of left column-->
<div class="content">
    <column-stream colname="all" col-id=0></column-stream>
</div>
</body>

</html>
