<!DOCTYPE html>
<html ng-app="twitterCrisis">

  <head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="assets/ico/favicon.png">

    <title>Crisis Curation</title>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/jquery.dropdown.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/layout.css">
    <link rel="stylesheet" type="text/css" href="css/styles.css">
    <link href="css/popover.css" rel="stylesheet">
    <link href="css/colorpicker.css" rel="stylesheet">

    <script type="text/javascript" src="js/angular.min.js"></script>
    <script type="text/javascript" src="js/angular-route.js"></script>
    <script type="text/javascript" src="js/ui-bootstrap-tpls-0.10.0.js"></script>
    <script type="text/javascript" src="js/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/angular-local-storage.js"></script>
    <script type="text/javascript" src="js/moment.js"></script>
    <script type="text/javascript" src="js/angular-moment.js"></script>

    <script type="text/javascript" src="js/config.js"></script>
    <script type="text/javascript" src="js/tweets.js"></script>
    <script type="text/javascript" src="js/userInfo.js"></script>
    <script type="text/javascript" src="js/tags.js"></script>
    <script type="text/javascript" src="js/directives.js"></script>
    <script type="text/javascript" src="js/colorpicker.js"></script>
  </head>

  <body ng-controller="Ctrl">
        <div class="left-menu">
            <h4>{{currentCrisis}}</h4>
            <div id="user-info">
                <p>Welcome {{getUsername()}}!<a ng-click="logout()" class="pull-right logout">Logout</a></p>
            </div>
            <div class="add-column-area">
                <form class="add-column" >
                    <button class="btn btn-primary add-column" ng-click="showColForm = !showColForm; newColumn()">Add Column</button>
					<div ng-show="showColForm">
						<ul>
							<span class="title">Column Filters:</span>
							<li class="filter">
								<input type="checkbox" ng-model="search.textFilter"/>
								<input type="text" placeholder="Text"  ng-model="search.text" ng-change="search.textFilter=true"/>
							</li>
							<li class="filter">
								<input type="checkbox" ng-model="search.usersFilter"/>
								<input type="text" placeholder="@User" ng-model="search.users" ng-change="search.usersFilter=true"/>
							</li>
							<li class="filter">
								<input type="checkbox" ng-click="showTagFilter=!showTagFilter; search.tags={}" ng-model="search.tagsFilter"/>Tag
								<ul ng-show="showTagFilter">
									<li ng-repeat="tag in TAGS.tags">
										<input type="checkbox" ng-model="search.tags[tag._id.$oid]"/>
									    <i class="fa fa-circle" style="color:{{tag.color}};"></i>
									    {{tag.tag_name}}
									</li>
								</ul>
							</li>
							<li class="filter">
								<input type="checkbox" ng-click="showUserTagFilter=!showUserTagFilter; search.userTags={}" ng-model="search.userTagsFilter"/>User Tag
								<ul ng-show="showUserTagFilter">
									<li ng-repeat="tag in USER_TAGS.tags">
										<input type="checkbox" ng-model="search.userTags[tag._id.$oid]"/>
									    <i class="fa fa-circle" style="color:{{tag.color}};"></i>
									    {{tag.tag_name}}
									</li>
								</ul>
							</li>
						</ul>
                   		<button class="btn" ng-click="showColForm = !showColForm;">Cancel</button>
					</div>
                </form>
            </div>

            <div class="dropdown-relative">
                <p class="left-menu-title">Tags <a class="fa fa-plus pull-right" id="newTagButton" href="#"></a></p>
            </div>
            <ul class="nav nav-pills nav-stacked dropdown-relative" id="tag-list">
                <li ng-repeat="tag in TAGS.tags" ng-click="editTagPopover(tag)" tag-id="{{tag._id.$oid}}"
                    popover-template="editTag.html" popover-placement="right">
                    <a href="#"  >
                        <i class="fa fa-circle" style="color:{{tag.color}};"></i>
                        {{tag.tag_name}}
                        <span class="badge pull-right">{{ tag.num_instances }}</span>
                    </a>
                </li>
            </ul>
            <div class="dropdown-relative">
                <p class="left-menu-title">User Lists <a class="fa fa-plus pull-right" id="newUserTagButton" href="#"></a></p>
            </div>
            <ul class="nav nav-pills nav-stacked dropdown-relative" id="tag-list">
                <li ng-repeat="tag in USER_TAGS.tags" ng-click="editTagPopover(tag)" tag-id="{{tag._id.$oid}}"
                    popover-template="editUserTag.html" popover-placement="right">
                    <a href="#"  >
                        <i class="fa fa-stop" style="color:{{tag.color}};"></i>
                        {{tag.tag_name}}
                        <span class="badge pull-right">{{ tag.num_instances }}</span>
                    </a>
                </li>
            </ul>
            <div class="collab">
                <p class="left-menu-title">Collaborators (2)</p>
                <ul class="nav nav-pills nav-stacked" id="collab-list">
                    <li><a>[name1] - [status]</a></li>
                    <li><a>[name2] - [status]</a></li>
                </ul>
            </div>
        </div>
    <div class="content">
      <column-stream colname="all" col-id=0></column-stream>
    </div>
  </body>

</html>
