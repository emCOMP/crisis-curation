<div ng-show="tweet.text" class="media">
    <a class=" profile-pic pull-left" href="#">
        <img class="media-object img-rounded" ng-src="{{ tweet.user.profile_image_url_https }}" err-src="assets/img/default.jpg" alt="Profiles Picture">
    </a>
    <div class="media-body">
        <span class="fullname"><a href="http://twitter.com/{{tweet.name}}" target="_blank" style="target-new: tab;"><strong>{{tweet.user.name}}</strong></a></span>
        <span class="username"><small>@{{tweet.user.screen_name}}</small></span>
        <p class="timestamp"><small><!--am-time-ago="tweet.created_at"-->{{tweet.created_at.split("+")[0]}}</small></p>
        <p class="tweet-text">
        {{tweet.text}}</p>
    </div>
    <div class="help-block">
        <!-- <span class="tweet-info">
            <small>{{tweet.retweet_count}}</small> <i class="fa fa-retweet"></i>
            <small>{{tweet.favorite_count}}</small> <i class="fa fa-star"></i>
        </span> -->

        <div>
            <a href="#" id="TagTweetButton" type="button" class="btn btn-default btn-xs" ng-click="showTags =  !showTags">Tag tweet <i class="fa fa-caret-down"></i></a>
            <div ng-show="showTags">
                <div ng-repeat="tag in TAGS.tags" >
                    <label>
                        <input type="checkbox" ng-checked="tweet.tags.indexOf(tag._id.$oid) >= 0" ng-click="TAGS.applyTag(tag, tweet, $event.target.checked); $parent.showTags = !$parent.showTags"> <i class="fa fa-circle" style="color: {{tag.color}}"></i> {{tag.tag_name}}
                    </label>
                </div>
                <a href="#" ng-click="showCreateNewTag=(!showCreateNewTag)">Create new tag</a>
                <new-tag-popup ng-show="showCreateNewTag"></new-tag-popup>
            </div>

            <a href="#" id="TagUserButton" type="button" class="btn btn-default btn-xs" ng-click="showUserTags =  !showUserTags">Add user to list <i class="fa fa-caret-down"></i></a>
            <div ng-show="showUserTags">
                <div ng-repeat="tag in USER_TAGS.tags" >
                    <label>
                        <input type="checkbox" ng-checked="tweet.user_tags.indexOf(tag._id.$oid) >= 0" ng-click="USER_TAGS.applyTag(tag, tweet, $event.target.checked); $parent.showUserTags = !$parent.showUserTags"> <i class="fa fa-circle" style="color: {{tag.color}}"></i> {{tag.tag_name}}
                    </label>
                </div>
                <a href="#" ng-click="showCreateNewUserTag=(!showCreateNewUserTag)">Create new user list</a>
                <new-user-tag-popup ng-show="showCreateNewUserTag"></new-user-tag-popup>
            </div>
        </div>


        <div class="tweet-tags pull-right">
            <!-- ng-show: only show dot if this tag exists -->
            <i ng-show="TAGS.tags[tag]" ng-repeat="tag in tweet.tags" tooltip="{{TAGS.tags[tag].tag_name}}" class="fa fa-circle tweet-tag" style="color: {{TAGS.tags[tag].color}};"></i>
        </div>

        <div class="user-tags pull-right">
            <!-- ng-show: only show dot if this tag exists -->
            <i ng-show="USER_TAGS.tags[tag]" ng-repeat="tag in tweet.user_tags" tooltip="{{USER_TAGS.tags[tag].tag_name}}" class="fa fa-stop user-tag" style="color: {{USER_TAGS.tags[tag].color}};"></i>
	   </div>
    </div>
</div>
